# 2026-02-16

## TBH Report Catalog — dispatch primary tables integrated
- Updated `Projects/tbh-report-catalog/scripts/sqlite/build_dummy_db.py` to include CSV-driven schemas + loaders for primary dispatch tables:
  - `tick` from `data/tick_sample.csv`
  - `tktl` from `data/tktl_sample.csv`
  - `ordr` from `data/ordr_sample.csv`
  - Uses helper `_create_table_from_csv_header(...)` to create all-TEXT, quoted column schemas from CSV headers (same pattern as `itrn`).
- Rebuilt `Projects/tbh-report-catalog/data/command_alkon_dummy.db`; confirmed row counts: `tick=1000`, `tktl=1000`, `ordr=1000` (and existing tables unchanged).

## Extraction layer extended (C#)
- Added new extract models:
  - `TicketRecord.cs` (TICK)
  - `TicketLineRecord.cs` (TKTL)
  - `OrderHeaderRecord.cs` (ORDR)
- Extended `ICommandAlkonExtractor` with:
  - `ExtractTicketsAsync(startDate,endDate)`
  - `ExtractTicketLinesAsync(startDate,endDate)`
  - `ExtractOrdersAsync(startDate,endDate)`
  - Left `ExtractSalesDetailAsync` (ORDL-backed) in place but noted it’s being phased out for dispatch-first reporting.
- Implemented the above in `SqliteCommandAlkonExtractor`:
  - Reads from SQLite tables `tick`, `tktl`, `ordr` filtering by `date(order_date)`.
  - Added text parsing helpers for dummy DB tables (all columns are TEXT): `GetDateTimeFromText`, `GetIntFromText`, `GetDecimalFromText`.
- Solution builds clean: `dotnet build Projects/tbh-report-catalog/TbhReportCatalog.sln` succeeds.
